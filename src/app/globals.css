
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 240 5% 96%;
    --foreground: 240 5% 4%;

    --card: 240 5% 96%;
    --card-foreground: 240 5% 4%;

    --popover: 240 5% 96%;
    --popover-foreground: 240 5% 4%;

    --primary: 278 100% 25%;
    --primary-foreground: 0 0% 100%;

    --secondary: 274 100% 50%;
    --secondary-foreground: 0 0% 100%;

    --muted: 240 5% 90%;
    --muted-foreground: 240 5% 41%;

    --accent: 274 100% 50%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 72% 51%;
    --destructive-foreground: 0 0% 100%;

    --border: 240 5% 84%;
    --input: 240 5% 84%;
    --ring: 278 100% 25%;

    --radius: 0.5rem;
  }

  .dark {
    --background: 240 5% 4%;
    --foreground: 0 0% 98%;

    --card: 240 5% 4%;
    --card-foreground: 0 0% 98%;

    --popover: 240 5% 4%;
    --popover-foreground: 0 0% 98%;

    --primary: 278 100% 25%;
    --primary-foreground: 0 0% 100%;

    --secondary: 274 100% 50%;
    --secondary-foreground: 0 0% 100%;

    --muted: 240 5% 16%;
    --muted-foreground: 240 5% 52%;

    --accent: 274 100% 50%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 63% 31%;
    --destructive-foreground: 0 0% 100%;

    --border: 240 5% 16%;
    --input: 240 5% 16%;
    --ring: 278 100% 25%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Chat-specific styles. Prefixed with `cs-` for "Chat Style" */
@layer components {
    .cs-primary-color { --cs-p: 217 91% 60%; }
    .cs-secondary-color { --cs-s: 5 86% 57%; }
    .cs-success-color { --cs-g: 145 63% 42%; }
    .cs-warning-color { --cs-w: 45 93% 50%; }
    .cs-surface-color { --cs-sf: 220 17% 98%; }
    .cs-text-primary-color { --cs-tp: 220 10% 13%; }
    .cs-text-secondary-color { --cs-ts: 220 4% 40%; }
    .cs-border-color { --cs-b: 220 10% 91%; }
    .cs-hover-color { --cs-h: 220 13% 91%; }

    .cs-chat-container {
        @apply flex h-screen bg-white;
    }
    .cs-sidebar {
        @apply w-[300px] bg-[hsl(var(--cs-sf))] border-r border-[hsl(var(--cs-b))] flex flex-col transition-all duration-300 z-50;
    }
    .cs-sidebar.collapsed {
        @apply w-[70px];
    }
    .cs-sidebar-header {
        @apply p-4 border-b border-[hsl(var(--cs-b))] flex items-center justify-between bg-white;
    }
    .cs-logo {
        @apply flex items-center text-xl font-medium text-[hsl(var(--cs-ts))];
    }
    .cs-logo-icon {
        @apply mr-2 text-[hsl(var(--cs-p))];
    }
    .cs-sidebar-controls {
        @apply flex gap-2;
    }
    .cs-control-btn {
        @apply bg-transparent border-none p-2 rounded-full cursor-pointer transition-colors text-[hsl(var(--cs-ts))] hover:bg-[hsl(var(--cs-h))];
    }
    .cs-compose-btn {
        @apply bg-[hsl(var(--cs-p))] text-white border-none py-3 px-5 rounded-full cursor-pointer text-sm transition-all flex items-center gap-2 hover:bg-[#1557b0] hover:-translate-y-px shadow-lg;
    }
    .cs-search-container {
        @apply p-4 relative;
    }
    .cs-search-input {
        @apply w-full py-3 pr-4 pl-11 border border-[hsl(var(--cs-b))] rounded-full text-sm bg-white transition-all focus:outline-none focus:border-[hsl(var(--cs-p))] focus:ring-2 focus:ring-[hsl(var(--cs-p)_/_0.2)];
    }
    .cs-search-icon {
        @apply absolute left-7 top-1/2 -translate-y-1/2 text-[hsl(var(--cs-ts))];
    }
    .cs-filters {
        @apply flex gap-2 px-4 pb-4 overflow-x-auto;
    }
    .cs-filter-chip {
        @apply py-1.5 px-3 border border-[hsl(var(--cs-b))] rounded-2xl text-xs cursor-pointer whitespace-nowrap transition-colors;
    }
    .cs-filter-chip.active {
        @apply bg-[hsl(var(--cs-p))] text-white border-[hsl(var(--cs-p))];
    }
    .cs-chat-list {
        @apply flex-1 overflow-y-auto py-2;
    }
    .cs-chat-item {
        @apply py-3 px-4 cursor-pointer transition-colors border-l-4 border-transparent flex items-center hover:bg-[hsl(var(--cs-h))];
    }
    .cs-chat-item.active {
        @apply bg-[#e8f0fe] border-[hsl(var(--cs-p))];
    }
    .cs-avatar {
        @apply w-10 h-10 rounded-full flex-shrink-0 bg-muted flex items-center justify-center font-medium mr-3 relative;
    }
    .cs-status-indicator {
        @apply absolute bottom-[-2px] right-[-2px] w-3 h-3 rounded-full border-2 border-white;
    }
    .cs-status-indicator.status-online { @apply bg-[hsl(var(--cs-g))]; }
    .cs-status-indicator.status-away { @apply bg-[hsl(var(--cs-w))]; }
    .cs-status-indicator.status-busy { @apply bg-[hsl(var(--cs-s))]; }
    .cs-status-indicator.status-offline { @apply bg-gray-400; }
    .cs-chat-preview {
        @apply flex-1 min-w-0;
    }
    .cs-chat-header-info {
        @apply flex justify-between items-center mb-1;
    }
    .cs-chat-name {
        @apply font-medium text-[hsl(var(--cs-tp))];
    }
    .cs-chat-time {
        @apply text-xs text-[hsl(var(--cs-ts))];
    }
    .cs-chat-last-message {
        @apply text-[hsl(var(--cs-ts))] text-sm whitespace-nowrap overflow-hidden text-ellipsis flex items-center gap-1;
    }
    .cs-main-chat {
        @apply flex-1 flex flex-col bg-white;
    }
    .cs-chat-header {
        @apply py-4 px-6 border-b border-[hsl(var(--cs-b))] flex items-center justify-between bg-white z-10;
    }
    .cs-chat-title {
        @apply flex items-center;
    }
    .cs-chat-info {
        @apply ml-3;
    }
    .cs-chat-info h3 {
        @apply text-base font-medium text-[hsl(var(--cs-tp))] mb-0;
    }
    .cs-chat-status {
        @apply text-xs text-[hsl(var(--cs-ts))] flex items-center gap-1;
    }
    .cs-chat-actions {
        @apply flex gap-2;
    }
    .cs-action-btn {
        @apply p-2.5 border-none bg-transparent cursor-pointer rounded-full transition-colors text-[hsl(var(--cs-ts))] hover:bg-[hsl(var(--cs-h))];
    }
    .cs-messages-container {
        @apply flex-1 overflow-y-auto p-6 bg-[hsl(var(--cs-sf))];
    }
    .cs-date-separator {
        @apply text-center my-5 relative;
    }
    .cs-date-separator::before {
        @apply content-[''] absolute top-1/2 left-0 right-0 h-px bg-[hsl(var(--cs-b))];
    }
    .cs-date-separator span {
        @apply bg-[hsl(var(--cs-sf))] px-4 text-[hsl(var(--cs-ts))] text-xs relative z-10;
    }
    .cs-message {
        @apply mb-4;
    }
    .cs-message.sent {
        @apply flex justify-end;
    }
    .cs-message.received {
        @apply flex justify-start;
    }
    .cs-message-content {
        @apply max-w-[70%];
    }
    .cs-message-bubble {
        @apply py-3 px-4 rounded-2xl break-words;
    }
    .cs-message.sent .message-bubble {
        @apply bg-[hsl(var(--cs-p))] text-white rounded-br-md;
    }
    .cs-message.received .message-bubble {
        @apply bg-white border border-[hsl(var(--cs-b))] rounded-bl-md;
    }
    .cs-message-meta {
        @apply flex justify-between items-center mt-1 text-xs opacity-70;
    }
    .cs-message-time {
        @apply text-[hsl(var(--cs-ts))];
    }
    .cs-input-container {
        @apply p-4 px-6 bg-white border-t border-[hsl(var(--cs-b))];
    }
    .cs-input-wrapper {
        @apply flex items-end gap-3 bg-[hsl(var(--cs-sf))] rounded-3xl p-2 px-4 border border-[hsl(var(--cs-b))] transition-all focus-within:border-[hsl(var(--cs-p))];
    }
    .cs-input-tools {
        @apply flex gap-2;
    }
    .cs-input-tool {
        @apply bg-transparent border-none cursor-pointer p-1.5 rounded-full text-[hsl(var(--cs-ts))] transition-colors hover:bg-[hsl(var(--cs-h))];
    }
    .cs-message-input {
        @apply flex-1 border-none bg-transparent p-2 text-sm resize-none h-auto min-h-[24px] outline-none shadow-none focus-visible:ring-0;
    }
    .cs-send-btn {
        @apply bg-[hsl(var(--cs-p))] text-white border-none h-9 w-9 rounded-full cursor-pointer transition-all flex items-center justify-center opacity-50 scale-90;
    }
    .cs-send-btn.active {
        @apply opacity-100 scale-100;
    }
}
