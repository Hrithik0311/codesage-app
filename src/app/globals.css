
@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
    --primary-color: #1a73e8;
    --secondary-color: #ea4335;
    --success-color: #34a853;
    --warning-color: #fbbc04;
    --surface-color: #f8f9fa;
    --text-primary: #202124;
    --text-secondary: #5f6368;
    --border-color: #e8eaed;
    --hover-color: #f1f3f4;
    --shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.dark {
    --primary-color: #8ab4f8;
    --secondary-color: #f28b82;
    --success-color: #81c995;
    --warning-color: #fdd663;
    --surface-color: #202124;
    --text-primary: #e8eaed;
    --text-secondary: #9aa0a6;
    --border-color: #3c4043;
    --hover-color: #28292c;
    --shadow: 0 2px 10px rgba(0,0,0,0.3);
}

@layer base {
  body {
    @apply bg-[hsl(var(--surface-color))] text-[hsl(var(--text-primary))];
    font-family: 'Google Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  }

  .chat-container {
    @apply flex h-screen bg-white relative;
  }
  .dark .chat-container {
      @apply bg-[hsl(var(--surface-color))];
  }

  .sidebar {
      @apply w-[300px] bg-[hsl(var(--surface-color))] border-r border-[hsl(var(--border-color))] flex flex-col transition-all duration-300 ease-in-out z-[1000];
  }
  .sidebar.collapsed {
      @apply w-[70px];
  }

  .sidebar-header {
      @apply p-4 border-b border-[hsl(var(--border-color))] flex items-center justify-between bg-white;
  }
  .dark .sidebar-header {
      @apply bg-[hsl(var(--surface-color))];
  }

  .logo {
      @apply flex items-center text-xl font-medium text-[hsl(var(--text-secondary))];
  }
  .logo .lucide-message-square {
      @apply mr-2 text-[hsl(var(--primary-color))];
  }

  .sidebar-controls {
      @apply flex gap-2;
  }
  .control-btn {
      @apply bg-none border-none p-2 rounded-full cursor-pointer transition-all text-[hsl(var(--text-secondary))];
  }
  .control-btn:hover {
      @apply bg-[hsl(var(--hover-color))];
  }

  .compose-btn {
      @apply bg-[hsl(var(--primary-color))] text-white border-none py-3 px-5 rounded-3xl cursor-pointer text-sm transition-all flex items-center gap-2 w-full justify-center;
  }
  .compose-btn:hover {
      @apply bg-[#1557b0] -translate-y-px shadow-md;
  }

  .search-container {
      @apply p-4 relative;
  }
  .search-input {
      @apply w-full py-3 pr-4 pl-11 border border-[hsl(var(--border-color))] rounded-3xl text-sm bg-white transition-all;
  }
  .dark .search-input {
      @apply bg-[hsl(var(--surface-color))];
  }
  .search-input:focus {
      @apply outline-none border-[hsl(var(--primary-color))] shadow-[0_0_0_3px_rgba(26,115,232,0.1)];
  }
  .search-icon {
      @apply absolute left-7 top-1/2 -translate-y-1/2 text-[hsl(var(--text-secondary))];
  }

  .filters {
      @apply flex gap-2 px-4 pb-4 overflow-x-auto;
  }
  .filter-chip {
      @apply py-1.5 px-3 border border-[hsl(var(--border-color))] rounded-2xl text-xs cursor-pointer whitespace-nowrap transition-all;
  }
  .filter-chip.active {
      @apply bg-[hsl(var(--primary-color))] text-white border-[hsl(var(--primary-color))];
  }

  .chat-list {
      @apply flex-1 overflow-y-auto py-2;
  }
  .chat-item {
      @apply py-3 px-4 cursor-pointer transition-all border-l-[3px] border-transparent flex items-center relative;
  }
  .chat-item:hover {
      @apply bg-[hsl(var(--hover-color))];
  }
  .chat-item.active {
      @apply bg-[#e8f0fe] border-[hsl(var(--primary-color))];
  }
  .dark .chat-item.active {
      @apply bg-[hsl(var(--hover-color))] border-[hsl(var(--primary-color))];
  }

  .avatar {
      @apply w-10 h-10 rounded-full flex-shrink-0 bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center text-white font-medium mr-3 text-base relative cursor-pointer;
  }

  .chat-preview {
      @apply flex-1 min-w-0;
  }
  .chat-header-info {
      @apply flex justify-between items-center mb-1;
  }
  .chat-name {
      @apply font-medium text-[hsl(var(--text-primary))];
  }
  .chat-time {
      @apply text-xs text-[hsl(var(--text-secondary))];
  }
  .chat-last-message {
      @apply text-[hsl(var(--text-secondary))] text-sm whitespace-nowrap overflow-hidden text-ellipsis flex items-center gap-1;
  }

  .main-chat {
      @apply flex-1 flex flex-col bg-white relative;
  }
  .dark .main-chat {
    @apply bg-[hsl(var(--surface-color))];
  }

  .chat-header {
      @apply py-4 px-6 border-b border-[hsl(var(--border-color))] flex items-center justify-between bg-white z-10;
  }
   .dark .chat-header {
      @apply bg-[hsl(var(--surface-color))];
  }

  .chat-title {
      @apply flex items-center;
  }
  .chat-info {
      @apply ml-3;
  }
  .chat-info h3 {
      @apply text-base font-medium text-[hsl(var(--text-primary))] mb-0;
  }
  .chat-status {
      @apply text-xs text-[hsl(var(--text-secondary))] flex items-center gap-1;
  }
  .chat-actions {
      @apply flex gap-2;
  }
  .action-btn {
      @apply p-2.5 border-none bg-none cursor-pointer rounded-full transition-all text-[hsl(var(--text-secondary))];
  }
  .action-btn:hover {
      @apply bg-[hsl(var(--hover-color))];
  }

  .messages-container {
      @apply flex-1 overflow-y-auto p-6 bg-[hsl(var(--surface-color))];
  }
  .dark .messages-container {
      @apply bg-[#1c1d1f];
  }

  .date-separator {
      @apply text-center my-5 relative;
  }
  .date-separator::before {
      @apply content-[''] absolute top-1/2 left-0 right-0 h-px bg-[hsl(var(--border-color))];
  }
  .date-separator span {
      @apply bg-[hsl(var(--surface-color))] px-4 text-[hsl(var(--text-secondary))] text-xs relative z-10;
  }
  .dark .date-separator span {
    @apply bg-[#1c1d1f];
  }

  .message {
      @apply mb-4;
  }
  .message.sent {
      @apply flex justify-end;
  }
  .message.received {
      @apply flex justify-start;
  }
  .message-content {
      @apply max-w-[70%];
  }
  .message-bubble {
      @apply py-3 px-4 rounded-2xl break-words;
  }
  .message.sent .message-bubble {
      @apply bg-[hsl(var(--primary-color))] text-white rounded-br-md;
  }
  .message.received .message-bubble {
      @apply bg-white border border-[hsl(var(--border-color))] rounded-bl-md;
  }
  .dark .message.received .message-bubble {
      @apply bg-[hsl(var(--hover-color))] border-[hsl(var(--border-color))];
  }

  .message-meta {
      @apply flex justify-between items-center mt-1 text-xs opacity-70;
  }
  .message-time {
      @apply text-[hsl(var(--text-secondary))];
  }

  .input-container {
      @apply p-4 px-6 bg-white border-t border-[hsl(var(--border-color))];
  }
  .dark .input-container {
      @apply bg-[hsl(var(--surface-color))];
  }
  .input-wrapper {
      @apply flex items-end gap-3 bg-[hsl(var(--surface-color))] rounded-3xl p-2 px-4 border border-[hsl(var(--border-color))] transition-all;
  }
  .dark .input-wrapper {
    @apply bg-[#2d2e30];
  }
  .input-wrapper:focus-within {
      @apply border-[hsl(var(--primary-color))] shadow-[0_0_0_3px_rgba(26,115,232,0.1)];
  }
  .input-tools {
      @apply flex gap-2;
  }
  .input-tool {
      @apply bg-none border-none cursor-pointer p-1.5 rounded-full text-[hsl(var(--text-secondary))] transition-all;
  }
  .input-tool:hover {
      @apply bg-[hsl(var(--hover-color))];
  }
  .message-input {
      @apply flex-1 border-none bg-none p-2 text-sm resize-none max-h-32 min-h-[24px] outline-none text-[hsl(var(--text-primary))] font-sans;
  }
  .send-btn {
      @apply bg-[hsl(var(--primary-color))] text-white border-none p-2 rounded-full cursor-pointer transition-all opacity-50 scale-90;
  }
  .send-btn.active {
      @apply opacity-100 scale-100;
  }
  .send-btn:hover.active {
      @apply bg-[#1557b0];
  }
  .loading-spinner {
    width: 50px;
    height: 50px;
    border: 3px solid hsl(var(--text-secondary) / 0.3);
    border-top-color: hsl(var(--primary-color));
    border-radius: 50%;
    animation: spin 1s linear infinite;
  }
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Custom Scrollbar */
::-webkit-scrollbar {
    width: 8px;
}
::-webkit-scrollbar-track {
    background: hsl(var(--surface-color));
}
::-webkit-scrollbar-thumb {
    background: hsl(var(--border-color));
    border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--text-secondary));
}
